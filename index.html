<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
    />
    <title>Deliveries — Courier Tracker</title>
    <link rel="stylesheet" href="style.css" />
    <script
      defer
      src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"
    ></script>
    <script defer src="script.js"></script>
  </head>
  <body>
    <!-- Fixed Header -->
    <header class="app-header">
      <button class="hamburger" aria-label="Menu">
        <i data-lucide="menu"></i>
      </button>
      <div class="title">Courier Tracker</div>
    </header>

    <!-- Scrollable Content (no action bar on Deliveries) -->
    <main class="content no-actionbar">
      <h2>Deliveries</h2>

      <table>
        <tr>
          <th>Start Deliveries</th>
          <th>Odometer Begin</th>
          <th>Odometer End</th>
          <th>End Deliveries</th>
        </tr>
        <tr>
          <td id="startTime"></td>
          <td><input type="number" id="odoStart" inputmode="numeric" /></td>
          <td><input type="number" id="odoEnd" inputmode="numeric" /></td>
          <td id="endTime"></td>
        </tr>
      </table>

      <div class="controls">
        <button class="btn-quaternary" onclick="copyText1()">
          Copy Message
        </button>
        <button id="startBtn" class="btn-primary">Start</button>
        <button id="endBtn" class="btn-secondary">End</button>
      </div>

      <div id="checkboxGroup" class="checkbox-group"></div>

      <div class="bottom-controls">
        <button id="addMealBtn" class="btn-primary">+ Add</button>
        <button id="resetBtn" class="btn-secondary">Reset All</button>
        <button id="computeBtn" class="btn-tertiary">Compute</button>
      </div>

      <div id="summarySection">
        <h3>Summary</h3>
        <p id="summaryOnline">• Total Online: ...</p>
        <p id="summaryDeliveries">• Total Deliveries: ...</p>
        <p id="summaryMileage">• Total Mileage: ...</p>
      </div>

      <!-- Earnings/Export controls (Deliveries context) -->
      <div id="earningsControls">
        <a id="openEarningsBtn" class="btn-primary">Earnings</a>
        <button id="exportJsonBtn" class="btn-primary">Export</button>
      </div>

      <!-- Slide-up sheet for Earnings -->
      <div id="earningsSheet" class="slide-up hidden">
        <div class="sheet-header">
          <h2>Earnings Summary</h2>
          <button id="closeEarningsBtn">&times;</button>
        </div>

        <h3>Grubhub</h3>
        <div class="form-row">
          <label for="deliveryPayGrubhub">Delivery Pay</label>
          <input
            type="number"
            id="deliveryPayGrubhub"
            step="0.01"
            inputmode="decimal"
            placeholder="0.00"
          />
        </div>
        <div class="form-row">
          <label for="tipsPayGrubhub">Tips</label>
          <input
            type="number"
            id="tipsPayGrubhub"
            step="0.01"
            inputmode="decimal"
            placeholder="0.00"
          />
        </div>
        <div class="form-row">
          <label for="adjustmentPayGrubhub">Adjustment Pay</label>
          <input
            type="number"
            id="adjustmentPayGrubhub"
            step="0.01"
            inputmode="decimal"
            placeholder="0.00"
          />
        </div>
        <div class="form-row">
          <label>Total Earnings</label>
          <span id="totalEarningsGrubhub" class="output-value">Pending</span>
        </div>

        <hr />

        <h3>Uber Eats</h3>
        <div class="form-row">
          <label for="deliveryPayUber">Delivery Pay</label>
          <input
            type="number"
            id="deliveryPayUber"
            step="0.01"
            inputmode="decimal"
            placeholder="0.00"
          />
        </div>
        <div class="form-row">
          <label for="tipsPayUber">Tips</label>
          <input
            type="number"
            id="tipsPayUber"
            step="0.01"
            inputmode="decimal"
            placeholder="0.00"
          />
        </div>
        <div class="form-row">
          <label for="adjustmentPayUber">Adjustment Pay</label>
          <input
            type="number"
            id="adjustmentPayUber"
            step="0.01"
            inputmode="decimal"
            placeholder="0.00"
          />
        </div>
        <div class="form-row">
          <label>Total Earnings</label>
          <span id="totalEarningsUber" class="output-value">Pending</span>
        </div>

        <hr />

        <div class="form-row">
          <label><strong>Grand Total</strong></label>
          <span id="grandTotalEarnings" class="output-value">Pending</span>
        </div>

        <div class="form-actions">
          <button id="calcEarningsBtn" class="btn-tertiary">Calculate</button>
        </div>
      </div>

      <div id="customToast"></div>

      <!-- Deliveries slide-up -->
      <div id="slideUpSheet" class="slide-up hidden">
        <div class="sheet-header">
          <span id="mealLabelInSheet"></span>
          <button id="closeSheetBtn">&times;</button>
        </div>
        <p><strong>Accepted:</strong> <span id="acceptedTimeInSheet"></span></p>
        <p>
          <strong>Delivered:</strong> <span id="deliveredTimeInSheet"></span>
        </p>
        <p><strong>Duration:</strong> <span id="durationInSheet"></span></p>
        <button class="btn-quaternary" id="markDeliveredBtn">Delivered</button>
      </div>
    </main>

    <!-- Fixed Bottom Navigation -->
    <nav class="bottom-nav">
      <div class="nav-inner">
        <a class="nav-item" href="home.html">
          <i data-lucide="home"></i><span>Home</span>
        </a>
        <a class="nav-item" href="index.html">
          <i data-lucide="utensils"></i><span>Deliveries</span>
        </a>
        <a class="nav-item" href="earnings.html">
          <i data-lucide="dollar-sign"></i><span>Earnings</span>
        </a>
        <a class="nav-item" href="admin.html">
          <i data-lucide="more-horizontal"></i><span>More</span>
        </a>
      </div>
    </nav>
  </body>
</html>
